function geocodeAddress(s,r){geocoder.geocode({address:s},function(e,o){if(o==google.maps.GeocoderStatus.OK){var n=e[0].geometry.location,t=n.lat(),a=n.lng();createMarker(s,t,a)}else o==google.maps.GeocoderStatus.OVER_QUERY_LIMIT&&(nextAddress--,delay++);r()})}function createMarker(e,o,n){var t=e,a=new google.maps.Marker({position:new google.maps.LatLng(o,n),map:map});google.maps.event.addListener(a,"click",function(){infowindow.setContent(t),infowindow.open(map,a)}),bounds.extend(a.position)}function theNext(){nextAddress<locations.length?(setTimeout('geocodeAddress("'+locations[nextAddress]+'",theNext)',delay),nextAddress++):map.fitBounds(bounds)}var delay=100,infowindow=new google.maps.InfoWindow,latlng=new google.maps.LatLng(49.2827,-123.1207),mapOptions={zoom:6,center:latlng,mapTypeId:google.maps.MapTypeId.ROADMAP},geocoder=new google.maps.Geocoder,map=new google.maps.Map(document.getElementById("map_canvas"),mapOptions),bounds=new google.maps.LatLngBounds,locations=["122 Powell Street, Vancouver, BC","30 West Hastings Street, Vancouver, BC","337 Gore Avenue, Vancouver, BC","319 Carrall Street, Vancouver, BC","555 Homer Street, Vancouver, BC","920 East Hastings Street, Vancouver, BC","421 East Cordova Street, Vancouver, BC","55 Powell Street, Vancouver, BC"],nextAddress=0;theNext();